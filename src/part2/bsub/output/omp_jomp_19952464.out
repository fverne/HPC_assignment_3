NUM_TEAMS: 114
THREAD_LIMIT: 1024
/bin/rm -f *.o poisson_j poisson_ja poisson_jomp poisson_jdist  poisson_jexpand poisson_jdup
OMP_NUM_THREADS=1
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 0.842355
Log: Iterations / sec: 11871.5
Log: N: 50
Log: Number of threads: 1
OMP_NUM_THREADS=2
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 0.597904
Log: Iterations / sec: 16725.1
Log: N: 50
Log: Number of threads: 2
OMP_NUM_THREADS=4
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 0.48971
Log: Iterations / sec: 20420.2
Log: N: 50
Log: Number of threads: 4
OMP_NUM_THREADS=8
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 0.420458
Log: Iterations / sec: 23783.6
Log: N: 50
Log: Number of threads: 8
OMP_NUM_THREADS=10
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 0.430489
Log: Iterations / sec: 23229.4
Log: N: 50
Log: Number of threads: 10
OMP_NUM_THREADS=12
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 0.399113
Log: Iterations / sec: 25055.5
Log: N: 50
Log: Number of threads: 12
OMP_NUM_THREADS=16
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 0.396086
Log: Iterations / sec: 25247
Log: N: 50
Log: Number of threads: 16
OMP_NUM_THREADS=20
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 0.392457
Log: Iterations / sec: 25480.5
Log: N: 50
Log: Number of threads: 20
OMP_NUM_THREADS=24
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 0.376803
Log: Iterations / sec: 26539.1
Log: N: 50
Log: Number of threads: 24
OMP_NUM_THREADS=30
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 0.385097
Log: Iterations / sec: 25967.5
Log: N: 50
Log: Number of threads: 30
OMP_NUM_THREADS=36
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 0.684466
Log: Iterations / sec: 14609.9
Log: N: 50
Log: Number of threads: 36
OMP_NUM_THREADS=40
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 0.644747
Log: Iterations / sec: 15510
Log: N: 50
Log: Number of threads: 40
OMP_NUM_THREADS=1
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 8.55758
Log: Iterations / sec: 1168.55
Log: N: 100
Log: Number of threads: 1
OMP_NUM_THREADS=2
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 4.27235
Log: Iterations / sec: 2340.63
Log: N: 100
Log: Number of threads: 2
OMP_NUM_THREADS=4
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 2.84463
Log: Iterations / sec: 3515.4
Log: N: 100
Log: Number of threads: 4
OMP_NUM_THREADS=8
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 1.95168
Log: Iterations / sec: 5123.79
Log: N: 100
Log: Number of threads: 8
OMP_NUM_THREADS=10
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 1.75811
Log: Iterations / sec: 5687.94
Log: N: 100
Log: Number of threads: 10
OMP_NUM_THREADS=12
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 1.62186
Log: Iterations / sec: 6165.76
Log: N: 100
Log: Number of threads: 12
OMP_NUM_THREADS=16
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 1.48128
Log: Iterations / sec: 6750.9
Log: N: 100
Log: Number of threads: 16
OMP_NUM_THREADS=20
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 1.42142
Log: Iterations / sec: 7035.22
Log: N: 100
Log: Number of threads: 20
OMP_NUM_THREADS=24
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 1.37785
Log: Iterations / sec: 7257.71
Log: N: 100
Log: Number of threads: 24
OMP_NUM_THREADS=30
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 1.38877
Log: Iterations / sec: 7200.64
Log: N: 100
Log: Number of threads: 30
OMP_NUM_THREADS=36
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 2.47943
Log: Iterations / sec: 4033.19
Log: N: 100
Log: Number of threads: 36
OMP_NUM_THREADS=40
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 2.67756
Log: Iterations / sec: 3734.75
Log: N: 100
Log: Number of threads: 40
OMP_NUM_THREADS=1
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 95.3537
Log: Iterations / sec: 104.873
Log: N: 200
Log: Number of threads: 1
OMP_NUM_THREADS=2
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 50.0225
Log: Iterations / sec: 199.91
Log: N: 200
Log: Number of threads: 2
OMP_NUM_THREADS=4
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 25.4061
Log: Iterations / sec: 393.606
Log: N: 200
Log: Number of threads: 4
OMP_NUM_THREADS=8
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 11.9384
Log: Iterations / sec: 837.635
Log: N: 200
Log: Number of threads: 8
OMP_NUM_THREADS=10
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 12.0666
Log: Iterations / sec: 828.737
Log: N: 200
Log: Number of threads: 10
OMP_NUM_THREADS=12
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 10.2851
Log: Iterations / sec: 972.284
Log: N: 200
Log: Number of threads: 12
OMP_NUM_THREADS=16
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 7.9402
Log: Iterations / sec: 1259.41
Log: N: 200
Log: Number of threads: 16
OMP_NUM_THREADS=20
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 7.23384
Log: Iterations / sec: 1382.39
Log: N: 200
Log: Number of threads: 20
OMP_NUM_THREADS=24
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 6.63216
Log: Iterations / sec: 1507.8
Log: N: 200
Log: Number of threads: 24
OMP_NUM_THREADS=30
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 5.96857
Log: Iterations / sec: 1675.44
Log: N: 200
Log: Number of threads: 30
OMP_NUM_THREADS=36
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 10.9711
Log: Iterations / sec: 911.488
Log: N: 200
Log: Number of threads: 36
OMP_NUM_THREADS=40
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 11.9013
Log: Iterations / sec: 840.243
Log: N: 200
Log: Number of threads: 40
OMP_NUM_THREADS=1
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 715.216
Log: Iterations / sec: 13.9818
Log: N: 400
Log: Number of threads: 1
OMP_NUM_THREADS=2
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 369.514
Log: Iterations / sec: 27.0626
Log: N: 400
Log: Number of threads: 2
OMP_NUM_THREADS=4
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 195.108
Log: Iterations / sec: 51.2537
Log: N: 400
Log: Number of threads: 4
OMP_NUM_THREADS=8
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 103.451
Log: Iterations / sec: 96.6639
Log: N: 400
Log: Number of threads: 8
OMP_NUM_THREADS=10
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 100.44
Log: Iterations / sec: 99.5622
Log: N: 400
Log: Number of threads: 10
OMP_NUM_THREADS=12
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 88.1863
Log: Iterations / sec: 113.396
Log: N: 400
Log: Number of threads: 12
OMP_NUM_THREADS=16
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 74.4314
Log: Iterations / sec: 134.352
Log: N: 400
Log: Number of threads: 16
OMP_NUM_THREADS=20
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 79.4753
Log: Iterations / sec: 125.825
Log: N: 400
Log: Number of threads: 20
OMP_NUM_THREADS=24
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 72.3163
Log: Iterations / sec: 138.281
Log: N: 400
Log: Number of threads: 24
OMP_NUM_THREADS=30
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 79.2862
Log: Iterations / sec: 126.125
Log: N: 400
Log: Number of threads: 30
OMP_NUM_THREADS=36
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 104.672
Log: Iterations / sec: 95.5363
Log: N: 400
Log: Number of threads: 36
OMP_NUM_THREADS=40
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 109.299
Log: Iterations / sec: 91.4922
Log: N: 400
Log: Number of threads: 40
OMP_NUM_THREADS=1
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...

------------------------------------------------------------
Sender: LSF System <lsfadmin@hpc.dtu.dk>
Subject: Job 19952464: <omp_jomp> in cluster <dcc> Exited

Job <omp_jomp> was submitted from host <hpclogin1> by user <s233091> in cluster <dcc> at Sun Jan 21 18:56:18 2024
Job was executed on host(s) <32*n-62-12-81>, in queue <hpcintrogpu>, as user <s233091> in cluster <dcc> at Sun Jan 21 18:56:18 2024
</zhome/c7/f/203083> was used as the home directory.
</zhome/c7/f/203083/02614/HPC_assignment_3/src/part2/bsub> was used as the working directory.
Started at Sun Jan 21 18:56:18 2024
Terminated at Sun Jan 21 19:56:48 2024
Results reported at Sun Jan 21 19:56:48 2024

Your job looked like:

------------------------------------------------------------
# LSBATCH: User input
#!/bin/bash
# 02614 - High-Performance Computing, January 2024
# 
# batch script to run matmult on a dedicated GPU server in the hpcintrogpu
# queue
#
# Author: Bernd Dammann <bd@cc.dtu.dk>
#         Hans Henrik Brandenborg Sørensen <hhbs@dtu.dk>
#
#BSUB -J omp_jomp
#BSUB -o output/omp_jomp_%J.out
#BSUB -e output/omp_jomp_%J.err
#BSUB -q hpcintrogpu
#BSUB -n 32
#BSUB -R "rusage[mem=2048]"
#BSUB -W 1:00
#BSUB -R "span[hosts=1]"
#BSUB -gpu "num=1:mode=exclusive_process"

# EXECUTABLE="poisson_jexpand"
# just pass executable poisson_jomp
# or pass poisson_expand (same script to compare both)
# echo -e "Executable name: ${EXECUTABLE}"
EXECUTABLE="poisson_jomp"

# Tolerance is not actually used at these scripts, just there for the
# sake of the argument
N_SIZES="50 100 200 400 800 1000"
THREADS="1 2 4 8 10 12 16 20 24 30 36 40"
TOLERANCE="0.001"
ITER_MAX=10000
START_VALUE="0.0"

EXTRA_ARGS=4

# load module for shared cuda libraries
module load /appl9/nvhpc/2023_2311/modulefiles/nvhpc-nompi/23.11

cd ..
make clean && make -j 12 > /dev/null 2>&1

for N in $N_SIZES; do
    for THREAD in $THREADS; do
        export OMP_NUM_THREADS=${THREAD:-1}
    echo "OMP_NUM_THREADS=$OMP_NUM_THREADS"
    ./$EXECUTABLE $N $ITER_MAX $TOLERANCE $START_VALUE $EXTRA_ARGS
    done
done

------------------------------------------------------------

TERM_RUNLIMIT: job killed after reaching LSF run time limit.
Exited with exit code 140.

Resource usage summary:

    CPU time :                                   23858.00 sec.
    Max Memory :                                 143 MB
    Average Memory :                             49.88 MB
    Total Requested Memory :                     65536.00 MB
    Delta Memory :                               65393.00 MB
    Max Swap :                                   -
    Max Processes :                              21
    Max Threads :                                48
    Run time :                                   3630 sec.
    Turnaround time :                            3630 sec.

The output (if any) is above this job summary.



PS:

Read file <output/omp_jomp_19952464.err> for stderr output of this job.

