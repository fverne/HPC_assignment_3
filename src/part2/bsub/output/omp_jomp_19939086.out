OMP_NUM_THREADS=1
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 0.817731
Log: Iterations / sec: 12229
Log: N: 50
Log: Number of threads: 1
OMP_NUM_THREADS=2
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 0.557297
Log: Iterations / sec: 17943.8
Log: N: 50
Log: Number of threads: 2
OMP_NUM_THREADS=4
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 0.480141
Log: Iterations / sec: 20827.2
Log: N: 50
Log: Number of threads: 4
OMP_NUM_THREADS=8
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 0.406906
Log: Iterations / sec: 24575.7
Log: N: 50
Log: Number of threads: 8
OMP_NUM_THREADS=10
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 0.388893
Log: Iterations / sec: 25714
Log: N: 50
Log: Number of threads: 10
OMP_NUM_THREADS=12
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 0.382364
Log: Iterations / sec: 26153.1
Log: N: 50
Log: Number of threads: 12
OMP_NUM_THREADS=16
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 0.364037
Log: Iterations / sec: 27469.7
Log: N: 50
Log: Number of threads: 16
OMP_NUM_THREADS=20
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 0.408048
Log: Iterations / sec: 24506.9
Log: N: 50
Log: Number of threads: 20
OMP_NUM_THREADS=24
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 0.413184
Log: Iterations / sec: 24202.3
Log: N: 50
Log: Number of threads: 24
OMP_NUM_THREADS=30
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 0.423353
Log: Iterations / sec: 23621
Log: N: 50
Log: Number of threads: 30
OMP_NUM_THREADS=36
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 0.740358
Log: Iterations / sec: 13507
Log: N: 50
Log: Number of threads: 36
OMP_NUM_THREADS=40
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 0.851261
Log: Iterations / sec: 11747.3
Log: N: 50
Log: Number of threads: 40
OMP_NUM_THREADS=1
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 8.63274
Log: Iterations / sec: 1158.38
Log: N: 100
Log: Number of threads: 1
OMP_NUM_THREADS=2
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 4.28656
Log: Iterations / sec: 2332.87
Log: N: 100
Log: Number of threads: 2
OMP_NUM_THREADS=4
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 2.86374
Log: Iterations / sec: 3491.93
Log: N: 100
Log: Number of threads: 4
OMP_NUM_THREADS=8
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 1.94067
Log: Iterations / sec: 5152.85
Log: N: 100
Log: Number of threads: 8
OMP_NUM_THREADS=10
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 1.78006
Log: Iterations / sec: 5617.8
Log: N: 100
Log: Number of threads: 10
OMP_NUM_THREADS=12
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 1.6445
Log: Iterations / sec: 6080.87
Log: N: 100
Log: Number of threads: 12
OMP_NUM_THREADS=16
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 1.50018
Log: Iterations / sec: 6665.88
Log: N: 100
Log: Number of threads: 16
OMP_NUM_THREADS=20
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 1.42017
Log: Iterations / sec: 7041.44
Log: N: 100
Log: Number of threads: 20
OMP_NUM_THREADS=24
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 1.39635
Log: Iterations / sec: 7161.53
Log: N: 100
Log: Number of threads: 24
OMP_NUM_THREADS=30
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 1.39191
Log: Iterations / sec: 7184.36
Log: N: 100
Log: Number of threads: 30
OMP_NUM_THREADS=36
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 2.56465
Log: Iterations / sec: 3899.17
Log: N: 100
Log: Number of threads: 36
OMP_NUM_THREADS=40
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 2.65506
Log: Iterations / sec: 3766.39
Log: N: 100
Log: Number of threads: 40
OMP_NUM_THREADS=1
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 95.0098
Log: Iterations / sec: 105.252
Log: N: 200
Log: Number of threads: 1
OMP_NUM_THREADS=2
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 50.251
Log: Iterations / sec: 199.001
Log: N: 200
Log: Number of threads: 2
OMP_NUM_THREADS=4
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 25.4325
Log: Iterations / sec: 393.198
Log: N: 200
Log: Number of threads: 4
OMP_NUM_THREADS=8
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 11.9705
Log: Iterations / sec: 835.39
Log: N: 200
Log: Number of threads: 8
OMP_NUM_THREADS=10
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 11.793
Log: Iterations / sec: 847.963
Log: N: 200
Log: Number of threads: 10
OMP_NUM_THREADS=12
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 10.0914
Log: Iterations / sec: 990.943
Log: N: 200
Log: Number of threads: 12
OMP_NUM_THREADS=16
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 7.99322
Log: Iterations / sec: 1251.06
Log: N: 200
Log: Number of threads: 16
OMP_NUM_THREADS=20
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 7.08651
Log: Iterations / sec: 1411.13
Log: N: 200
Log: Number of threads: 20
OMP_NUM_THREADS=24
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 6.63205
Log: Iterations / sec: 1507.83
Log: N: 200
Log: Number of threads: 24
OMP_NUM_THREADS=30
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 5.89583
Log: Iterations / sec: 1696.11
Log: N: 200
Log: Number of threads: 30
OMP_NUM_THREADS=36
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 10.5252
Log: Iterations / sec: 950.101
Log: N: 200
Log: Number of threads: 36
OMP_NUM_THREADS=40
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 11.0832
Log: Iterations / sec: 902.269
Log: N: 200
Log: Number of threads: 40
OMP_NUM_THREADS=1
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 708.676
Log: Iterations / sec: 14.1108
Log: N: 400
Log: Number of threads: 1
OMP_NUM_THREADS=2
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 368.423
Log: Iterations / sec: 27.1427
Log: N: 400
Log: Number of threads: 2
OMP_NUM_THREADS=4
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 194.656
Log: Iterations / sec: 51.3728
Log: N: 400
Log: Number of threads: 4
OMP_NUM_THREADS=8
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 103.985
Log: Iterations / sec: 96.1676
Log: N: 400
Log: Number of threads: 8
OMP_NUM_THREADS=10
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 100.457
Log: Iterations / sec: 99.5451
Log: N: 400
Log: Number of threads: 10
OMP_NUM_THREADS=12
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 88.3583
Log: Iterations / sec: 113.175
Log: N: 400
Log: Number of threads: 12
OMP_NUM_THREADS=16
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 74.5885
Log: Iterations / sec: 134.069
Log: N: 400
Log: Number of threads: 16
OMP_NUM_THREADS=20
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 79.5759
Log: Iterations / sec: 125.666
Log: N: 400
Log: Number of threads: 20
OMP_NUM_THREADS=24
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 72.883
Log: Iterations / sec: 137.206
Log: N: 400
Log: Number of threads: 24
OMP_NUM_THREADS=30
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 80.752
Log: Iterations / sec: 123.836
Log: N: 400
Log: Number of threads: 30
OMP_NUM_THREADS=36
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 104.779
Log: Iterations / sec: 95.4393
Log: N: 400
Log: Number of threads: 36
OMP_NUM_THREADS=40
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...
Log: Jacobi OMP
Log: Iterations: 10000
Log: Execution time: 107.537
Log: Iterations / sec: 92.9908
Log: N: 400
Log: Number of threads: 40
OMP_NUM_THREADS=1
Log: Number of devices: 1
Log: Default device: 0
Log: Initial device: -1
Log: Allocating on host...
Log: Allocation finished...
Log: Initializing arrays on host...
Log: Initializing arrays on host finished...

------------------------------------------------------------
Sender: LSF System <lsfadmin@hpc.dtu.dk>
Subject: Job 19939086: <omp_jomp> in cluster <dcc> Exited

Job <omp_jomp> was submitted from host <n-62-11-46> by user <s233091> in cluster <dcc> at Sat Jan 20 18:39:32 2024
Job was executed on host(s) <32*n-62-12-81>, in queue <hpcintrogpu>, as user <s233091> in cluster <dcc> at Sat Jan 20 18:39:34 2024
</zhome/c7/f/203083> was used as the home directory.
</zhome/c7/f/203083/02614/HPC_assignment_3/src/part2/bsub> was used as the working directory.
Started at Sat Jan 20 18:39:34 2024
Terminated at Sat Jan 20 19:39:52 2024
Results reported at Sat Jan 20 19:39:52 2024

Your job looked like:

------------------------------------------------------------
# LSBATCH: User input
#!/bin/bash
# 02614 - High-Performance Computing, January 2024
# 
# batch script to run matmult on a dedicated GPU server in the hpcintrogpu
# queue
#
# Author: Bernd Dammann <bd@cc.dtu.dk>
#         Hans Henrik Brandenborg SÃ¸rensen <hhbs@dtu.dk>
#
#BSUB -J omp_jomp
#BSUB -o output/omp_jomp_%J.out
#BSUB -e output/omp_jexpand_%J.err
#BSUB -q hpcintrogpu
#BSUB -n 32
#BSUB -R "rusage[mem=2048]"
#BSUB -W 1:00
#BSUB -R "span[hosts=1]"
#BSUB -gpu "num=1:mode=exclusive_process"

# EXECUTABLE="poisson_jexpand"
# just pass executable poisson_jomp
# or pass poisson_expand (same script to compare both)
# echo -e "Executable name: ${EXECUTABLE}"
EXECUTABLE="poisson_jomp"

# Tolerance is not actually used at these scripts, just there for the
# sake of the argument
N_SIZES="50 100 200 400 800 1000"
THREADS="1 2 4 8 10 12 16 20 24 30 36 40"
TOLERANCE="0.001"
ITER_MAX=10000
START_VALUE="0.0"
EXTRA_ARGS=4

# load module for shared cuda libraries
module load /appl9/nvhpc/2023_2311/modulefiles/nvhpc-nompi/23.11

for N in $N_SIZES; do
    for THREAD in $THREADS; do
        export OMP_NUM_THREADS=${THREAD:-1}
    echo "OMP_NUM_THREADS=$OMP_NUM_THREADS"
    ../$EXECUTABLE $N $ITER_MAX $TOLERANCE $START_VALUE $EXTRA_ARGS
    done
done

------------------------------------------------------------

TERM_RUNLIMIT: job killed after reaching LSF run time limit.
Exited with exit code 140.

Resource usage summary:

    CPU time :                                   23793.00 sec.
    Max Memory :                                 76 MB
    Average Memory :                             52.86 MB
    Total Requested Memory :                     65536.00 MB
    Delta Memory :                               65460.00 MB
    Max Swap :                                   -
    Max Processes :                              4
    Max Threads :                                48
    Run time :                                   3646 sec.
    Turnaround time :                            3620 sec.

The output (if any) is above this job summary.



PS:

Read file <output/omp_jexpand_19939086.err> for stderr output of this job.

